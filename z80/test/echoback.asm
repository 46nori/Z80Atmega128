VECTTBL .equ    0x0100

    .area TEST (ABS)
    .org 0x0000
    ld sp, 0x0000
    ld a, 0x1
    ld i, a
    im 2
    ei
    jp START

;   NMI handler
    .org 0x0066
    retn

;   Interrupt vector table
    .org 0x0100
    .dw ISR_00, ISR_01, ISR_02, ISR_03, ISR_04, ISR_05, ISR_06, ISR_07
    .dw ISR_08, ISR_09, ISR_0A, ISR_0B, ISR_0C, ISR_0D, ISR_0E, ISR_0F
    .dw ISR_10, ISR_11, ISR_12, ISR_13, ISR_14, ISR_15, ISR_16, ISR_17
    .dw ISR_18, ISR_19, ISR_1A, ISR_1B, ISR_1C, ISR_1D, ISR_1E, ISR_1F
    .dw ISR_20, ISR_21, ISR_22, ISR_23, ISR_24, ISR_25, ISR_26, ISR_27
    .dw ISR_28, ISR_29, ISR_2A, ISR_2B, ISR_2C, ISR_2D, ISR_2E, ISR_2F
    .dw ISR_30, ISR_31, ISR_32, ISR_33, ISR_34, ISR_35, ISR_36, ISR_37
    .dw ISR_38, ISR_39, ISR_3A, ISR_3B, ISR_3C, ISR_3D, ISR_3E, ISR_3F
    .dw ISR_40, ISR_41, ISR_42, ISR_43, ISR_44, ISR_45, ISR_46, ISR_47
    .dw ISR_48, ISR_49, ISR_4A, ISR_4B, ISR_4C, ISR_4D, ISR_4E, ISR_4F
    .dw ISR_50, ISR_51, ISR_52, ISR_53, ISR_54, ISR_55, ISR_56, ISR_57
    .dw ISR_58, ISR_59, ISR_5A, ISR_5B, ISR_5C, ISR_5D, ISR_5E, ISR_5F
    .dw ISR_60, ISR_61, ISR_62, ISR_63, ISR_64, ISR_65, ISR_66, ISR_67
    .dw ISR_68, ISR_69, ISR_6A, ISR_6B, ISR_6C, ISR_6D, ISR_6E, ISR_6F
    .dw ISR_70, ISR_71, ISR_72, ISR_73, ISR_74, ISR_75, ISR_76, ISR_77
    .dw ISR_78, ISR_79, ISR_7A, ISR_7B, ISR_7C, ISR_7D, ISR_7E, ISR_7F
    .dw ISR_80, ISR_81, ISR_82, ISR_83, ISR_84, ISR_85, ISR_86, ISR_87
    .dw ISR_88, ISR_89, ISR_8A, ISR_8B, ISR_8C, ISR_8D, ISR_8E, ISR_8F
    .dw ISR_90, ISR_91, ISR_92, ISR_93, ISR_94, ISR_95, ISR_96, ISR_97
    .dw ISR_98, ISR_99, ISR_9A, ISR_9B, ISR_9C, ISR_9D, ISR_9E, ISR_9F
    .dw ISR_A0, ISR_A1, ISR_A2, ISR_A3, ISR_A4, ISR_A5, ISR_A6, ISR_A7
    .dw ISR_A8, ISR_A9, ISR_AA, ISR_AB, ISR_AC, ISR_AD, ISR_AE, ISR_AF
    .dw ISR_B0, ISR_B1, ISR_B2, ISR_B3, ISR_B4, ISR_B5, ISR_B6, ISR_B7
    .dw ISR_B8, ISR_B9, ISR_BA, ISR_BB, ISR_BC, ISR_BD, ISR_BE, ISR_BF
    .dw ISR_C0, ISR_C1, ISR_C2, ISR_C3, ISR_C4, ISR_C5, ISR_C6, ISR_C7
    .dw ISR_C8, ISR_C9, ISR_CA, ISR_CB, ISR_CC, ISR_CD, ISR_CE, ISR_CF
    .dw ISR_D0, ISR_D1, ISR_D2, ISR_D3, ISR_D4, ISR_D5, ISR_D6, ISR_D7
    .dw ISR_D8, ISR_D9, ISR_DA, ISR_DB, ISR_DC, ISR_DD, ISR_DE, ISR_DF
    .dw ISR_E0, ISR_E1, ISR_E2, ISR_E3, ISR_E4, ISR_E5, ISR_E6, ISR_E7
    .dw ISR_E8, ISR_E9, ISR_EA, ISR_EB, ISR_EC, ISR_ED, ISR_EE, ISR_EF
    .dw ISR_F0, ISR_F1, ISR_F2, ISR_F3, ISR_F4, ISR_F5, ISR_F6, ISR_F7
    .dw ISR_F8, ISR_F9, ISR_FA, ISR_FB, ISR_FC, ISR_FD, ISR_FE, ISR_FF


;   Interrupt handler
ISR_00:
ISR_01:
ISR_02:
ISR_03:
ISR_04:
ISR_05:
ISR_06:
ISR_07:
ISR_08:
ISR_09:
ISR_0A:
ISR_0B:
ISR_0C:
ISR_0D:
ISR_0E:
ISR_0F:
ISR_10:
ISR_11:
ISR_12:
ISR_13:
ISR_14:
ISR_15:
ISR_16:
ISR_17:
ISR_18:
ISR_19:
ISR_1A:
ISR_1B:
ISR_1C:
ISR_1D:
ISR_1E:
ISR_1F:
ISR_20:
ISR_21:
ISR_22:
ISR_23:
ISR_24:
ISR_25:
ISR_26:
ISR_27:
ISR_28:
ISR_29:
ISR_2A:
ISR_2B:
ISR_2C:
ISR_2D:
ISR_2E:
ISR_2F:
ISR_30:
ISR_31:
ISR_32:
ISR_33:
ISR_34:
ISR_35:
ISR_36:
ISR_37:
ISR_38:
ISR_39:
ISR_3A:
ISR_3B:
ISR_3C:
ISR_3D:
ISR_3E:
ISR_3F:
ISR_40:
ISR_41:
ISR_42:
ISR_43:
ISR_44:
ISR_45:
ISR_46:
ISR_47:
ISR_48:
ISR_49:
ISR_4A:
ISR_4B:
ISR_4C:
ISR_4D:
ISR_4E:
ISR_4F:
ISR_50:
ISR_51:
ISR_52:
ISR_53:
ISR_54:
ISR_55:
ISR_56:
ISR_57:
ISR_58:
ISR_59:
ISR_5A:
ISR_5B:
ISR_5C:
ISR_5D:
ISR_5E:
ISR_5F:
ISR_60:
ISR_61:
ISR_62:
ISR_63:
ISR_64:
ISR_65:
ISR_66:
ISR_67:
ISR_68:
ISR_69:
ISR_6A:
ISR_6B:
ISR_6C:
ISR_6D:
ISR_6E:
ISR_6F:
ISR_70:
ISR_71:
ISR_72:
ISR_73:
ISR_74:
ISR_75:
ISR_76:
ISR_77:
ISR_78:
ISR_79:
ISR_7A:
ISR_7B:
ISR_7C:
ISR_7D:
ISR_7E:
ISR_7F:
ISR_80:
ISR_81:
ISR_82:
ISR_83:
ISR_84:
ISR_85:
ISR_86:
ISR_87:
ISR_88:
ISR_89:
ISR_8A:
ISR_8B:
ISR_8C:
ISR_8D:
ISR_8E:
ISR_8F:
ISR_90:
ISR_91:
ISR_92:
ISR_93:
ISR_94:
ISR_95:
ISR_96:
ISR_97:
ISR_98:
ISR_99:
ISR_9A:
ISR_9B:
ISR_9C:
ISR_9D:
ISR_9E:
ISR_9F:
ISR_A0:
ISR_A1:
ISR_A2:
ISR_A3:
ISR_A4:
ISR_A5:
ISR_A6:
ISR_A7:
ISR_A8:
ISR_A9:
ISR_AA:
ISR_AB:
ISR_AC:
ISR_AD:
ISR_AE:
ISR_AF:
ISR_B0:
ISR_B1:
ISR_B2:
ISR_B3:
ISR_B4:
ISR_B5:
ISR_B6:
ISR_B7:
ISR_B8:
ISR_B9:
ISR_BA:
ISR_BB:
ISR_BC:
ISR_BD:
ISR_BE:
ISR_BF:
ISR_C0:
ISR_C1:
ISR_C2:
ISR_C3:
ISR_C4:
ISR_C5:
ISR_C6:
ISR_C7:
ISR_C8:
ISR_C9:
ISR_CA:
ISR_CB:
ISR_CC:
ISR_CD:
ISR_CE:
ISR_CF:
ISR_D0:
ISR_D1:
ISR_D2:
ISR_D3:
ISR_D4:
ISR_D5:
ISR_D6:
ISR_D7:
ISR_D8:
ISR_D9:
ISR_DA:
ISR_DB:
ISR_DC:
ISR_DD:
ISR_DE:
ISR_DF:
ISR_E0:
ISR_E1:
ISR_E2:
ISR_E3:
ISR_E4:
ISR_E5:
ISR_E6:
ISR_E7:
ISR_E8:
ISR_E9:
ISR_EA:
ISR_EB:
ISR_EC:
ISR_ED:
ISR_EE:
ISR_EF:
ISR_F0:
ISR_F1:
ISR_F2:
ISR_F3:
ISR_F4:
ISR_F5:
ISR_F6:
ISR_F7:
ISR_F8:
ISR_F9:
ISR_FA:
ISR_FB:
ISR_FC:
ISR_FD:
ISR_FE:
ISR_FF:
    reti

;   Main program
START:
    halt

